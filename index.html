<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Gabrielle Emem Harry — Cultural Strategist & Writer">
  <title>Gabrielle Emem Harry</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <!-- Navigation -->
  <header class="nav">
    <a href="index.html" class="nav-logo">gabrielle emem harry</a>
    <nav>
      <a href="works.html" class="nav-link">works</a>
    </nav>
  </header>

  <!-- Spiral Canvas Container -->
  <div id="spiral-container">
    <canvas id="spiral-canvas"></canvas>
  </div>

  <!-- Scroll Prompt -->
  <div class="scroll-prompt" id="scroll-prompt">
    <div class="scroll-prompt-text">
      <span>scroll</span>
      <div class="scroll-prompt-arrow"></div>
    </div>
  </div>

  <!-- Scroll Container -->
  <div class="scroll-container">
    
    <!-- Section 1: Spiral + Name -->
    <section class="section section-spiral" id="section-spiral">
      <div class="name-reveal" id="name-reveal">
        <h1 class="name">
          <span class="name-line">gabrielle emem harry</span>
        </h1>
      </div>
    </section>

    <!-- Section 2: Photo + Bio -->
    <section class="section section-bio" id="section-bio">
      <div class="bio-container">
        <div class="photo-wrapper">
          <div class="photo-frame" id="photo-frame">
            <img src="images/gabrielle.jpg" alt="Gabrielle Emem Harry" class="photo">
            <p class="photo-caption">cultural strategist and writer</p>
          </div>
        </div>
        
        <div class="bio-content" id="bio-content">
          <div class="bio-block">
            <p class="bio-text">
              I work at the intersection of Digital Humanities and African Arts & Culture. I'm interested in art, cultural programming and digital interventions which increase access to historical and contemporary African and Afro-diasporic knowledge, foster creative community, fuel cultural dynamism and drive social change.
            </p>
            <p class="bio-text">
              I have won the 2024 Nommo Short Story Award, been shortlisted for the 2024 Writivism Short Story Prize, longlisted for the 2025 BSFA award, selected as a 2024 Voodoonauts Fellow and a 2023 LLEAA Fellow. My work has appeared or is forthcoming in Strange Horizons, Logic(s), The Year's Best African Speculative Fiction Volume 3, Afterlives: The Year's Best Death Fiction, the Flametree Press African Short Ghost Stories Anthology, Omenana, Apparition, Isele and more.
            </p>
          </div>

          <a href="mailto:gabrielleememharry@gmail.com" class="contact-link">
            gabrielleememharry@gmail.com
          </a>
        </div>
      </div>
    </section>

  </div>

  <!-- Footer -->
  <footer class="footer">
    <div class="footer-inner">
      <a href="mailto:gabrielleememharry@gmail.com">email</a>
      <span class="footer-sep">·</span>
      <a href="works.html">works</a>
    </div>
  </footer>

  <script>
    // ============================================
    // CONFIGURATION - 2D SPIRAL
    // ============================================
    const CONFIG = {
      colors: {
        background: '#9B461F',  // Sand/rust
        spiral: '#6A1D2F'       // Persian plum (spiral only)
      },
      spiral: {
        turns: 8,              // Number of rotations
        lineWidth: 2.5,        // Stroke thickness
        spacing: 18,           // Space between lines
        maxRadius: 0           // Calculated based on screen
      }
    };

    // ============================================
    // CANVAS SETUP
    // ============================================
    const canvas = document.getElementById('spiral-canvas');
    const ctx = canvas.getContext('2d');
    
    let scrollProgress = 0;
    let targetScrollProgress = 0;
    let time = 0;
    let centerX, centerY;
    
    // Scroll prompt state
    let hasScrolled = false;
    let scrollPromptTimeout = null;
    const scrollPrompt = document.getElementById('scroll-prompt');
    
    function init() {
      resizeCanvas();
      window.addEventListener('resize', resizeCanvas);
      window.addEventListener('scroll', onScroll);
      onScroll();
      animate();
      
      // Show scroll prompt after 3.5 seconds if user hasn't scrolled
      scrollPromptTimeout = setTimeout(() => {
        if (!hasScrolled && window.scrollY < 50) {
          scrollPrompt.classList.add('visible');
        }
      }, 3500);
    }
    
    function resizeCanvas() {
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
      centerX = canvas.width / 2;
      centerY = canvas.height / 2;
      CONFIG.spiral.maxRadius = Math.sqrt(centerX * centerX + centerY * centerY) + 100;
    }
    
    // ============================================
    // DRAW 2D ARCHIMEDEAN SPIRAL
    // ============================================
    function drawSpiral(rotation, scale, opacity) {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      
      if (opacity <= 0) return;
      
      ctx.save();
      ctx.translate(centerX, centerY);
      ctx.rotate(rotation);
      ctx.scale(scale, scale);
      
      ctx.strokeStyle = CONFIG.colors.spiral;
      ctx.lineWidth = CONFIG.spiral.lineWidth;
      ctx.lineCap = 'round';
      ctx.globalAlpha = opacity;
      
      ctx.beginPath();
      
      const { turns, spacing, maxRadius } = CONFIG.spiral;
      const a = 0;
      const b = spacing / (2 * Math.PI);
      
      const maxTheta = turns * 2 * Math.PI;
      const steps = turns * 200;
      
      for (let i = 0; i <= steps; i++) {
        const theta = (i / steps) * maxTheta;
        const r = a + b * theta;
        
        if (r > maxRadius / scale) break;
        
        const x = r * Math.cos(theta);
        const y = r * Math.sin(theta);
        
        if (i === 0) {
          ctx.moveTo(x, y);
        } else {
          ctx.lineTo(x, y);
        }
      }
      
      ctx.stroke();
      ctx.restore();
    }
    
    // ============================================
    // SCROLL HANDLING
    // ============================================
    function onScroll() {
      const scrollHeight = document.documentElement.scrollHeight - window.innerHeight;
      targetScrollProgress = scrollHeight > 0 ? window.scrollY / scrollHeight : 0;
      
      // Hide scroll prompt once user scrolls
      if (window.scrollY > 50 && !hasScrolled) {
        hasScrolled = true;
        scrollPrompt.classList.remove('visible');
        scrollPrompt.classList.add('hidden');
        if (scrollPromptTimeout) {
          clearTimeout(scrollPromptTimeout);
        }
      }
    }
    
    function updateScene() {
      time += 0.008;
      
      // Smooth scroll interpolation
      scrollProgress += (targetScrollProgress - scrollProgress) * 0.08;
      
      // Phase definitions
      const phase1End = 0.35;
      const phase2Start = 0.2;
      const phase2End = 0.45;
      const phase3Start = 0.45;
      const phase3End = 0.70;
      const phase4Start = 0.65;
      
      const zoomProgress = Math.min(scrollProgress / phase1End, 1);
      const easedZoom = easeOutCubic(zoomProgress);
      
      // Spiral animation - ALWAYS spinning slowly via baseRotation
      const baseRotation = time * 0.15;  // Constant slow spin
      const scrollRotation = easedZoom * Math.PI * 2;  // Additional rotation on scroll
      const totalRotation = baseRotation + scrollRotation;
      
      const baseScale = 0.4;
      const zoomScale = easedZoom * 0.8;
      const scale = baseScale + zoomScale;
      
      let spiralOpacity = 1;
      
      // Name reveal
      const nameReveal = document.getElementById('name-reveal');
      
      if (scrollProgress >= phase2Start && scrollProgress <= phase2End) {
        const nameProgress = (scrollProgress - phase2Start) / (phase2End - phase2Start);
        const eased = easeOutCubic(nameProgress);
        nameReveal.style.opacity = eased;
        nameReveal.style.transform = `translate(-50%, -50%) translateY(${(1 - eased) * 40}px)`;
        
      } else if (scrollProgress < phase2Start) {
        nameReveal.style.opacity = 0;
        nameReveal.style.transform = 'translate(-50%, -50%) translateY(40px)';
        
      } else if (scrollProgress <= phase3End) {
        nameReveal.style.opacity = 1;
        nameReveal.style.transform = 'translate(-50%, -50%) translateY(0)';
      }
      
      // Phase 3: Fade out
      if (scrollProgress >= phase3Start) {
        const transitionProgress = Math.min((scrollProgress - phase3Start) / (phase3End - phase3Start), 1);
        const eased = easeOutCubic(transitionProgress);
        
        spiralOpacity = 1 - eased * 0.95;
        
        if (transitionProgress > 0.2) {
          const nameFade = (transitionProgress - 0.2) / 0.6;
          nameReveal.style.opacity = 1 - easeOutCubic(nameFade);
        }
      }
      
      drawSpiral(totalRotation, scale, spiralOpacity);
      
      // Phase 4: Bio content
      const bioContent = document.getElementById('bio-content');
      const photoFrame = document.getElementById('photo-frame');
      
      if (scrollProgress >= phase4Start) {
        const bioProgress = Math.min((scrollProgress - phase4Start) / 0.25, 1);
        const eased = easeOutCubic(bioProgress);
        
        bioContent.style.opacity = eased;
        bioContent.style.transform = `translateY(${(1 - eased) * 80}px)`;
        
        photoFrame.style.opacity = eased;
        photoFrame.style.transform = `translateY(${(1 - eased) * 60}px)`;
        
      } else {
        bioContent.style.opacity = 0;
        bioContent.style.transform = 'translateY(80px)';
        photoFrame.style.opacity = 0;
        photoFrame.style.transform = 'translateY(60px)';
      }
    }
    
    function easeOutCubic(t) {
      return 1 - Math.pow(1 - t, 3);
    }
    
    function animate() {
      requestAnimationFrame(animate);
      updateScene();
    }
    
    init();
  </script>
</body>
</html>
